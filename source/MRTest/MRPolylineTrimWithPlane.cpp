#include <MRMesh/MRPlane3.h>
#include <MRMesh/MRPolyline.h>
#include <MRMesh/MRPolylineTrimWithPlane.h>

#include <gtest/gtest.h>

#pragma warning( disable: 4305 ) // truncation from double to float

TEST( MRMesh, PolylineTrimWithPlane )
{
    const auto direction = MR::Vector3f { 0.9682972431, -0.0004187558079, -0.249800697 };
    const auto point = MR::Vector3f { -20.69468689, 5.160713673, -14.73788357 };
    const auto plane = MR::Plane3f::fromDirAndPt( direction, point );

    const float data[] = { -25.34358788, 6.035698414, -17.56179237 , -25.32123947, 6.045425415, -17.61123848 , -25.29838943, 6.056428432, -17.66069984 , -25.27289581, 6.069586754, -17.71415329 , -25.24321938, 6.085149288, -17.77447891 , -25.20977783, 6.102220058, -17.84081078 , -25.17465973, 6.119100094, -17.90891647 , -25.13929176, 6.134608746, -17.97580338 , -25.10307693, 6.148914337, -18.04220772 , -25.06512642, 6.1629076, -18.10920906 , -25.02604866, 6.177194118, -18.1750145 , -24.98698997, 6.191949844, -18.23716927 , -24.94829559, 6.207227707, -18.29524994 , -24.91007996, 6.222952366, -18.34947395 , -24.87283134, 6.238943577, -18.39922905 , -24.8361969, 6.255344391, -18.44482231 , -24.79831886, 6.272641182, -18.48889732 , -24.75748825, 6.290793896, -18.53435707 , -24.71386147, 6.308652401, -18.58191681 , -24.66865158, 6.324826717, -18.63057327 , -24.62239838, 6.339017868, -18.67935371 , -24.57484245, 6.352036953, -18.72776413 , -24.52577782, 6.36470747, -18.77548599 , -24.47564507, 6.377051353, -18.82228088 , -24.42588234, 6.388409138, -18.86750221 , -24.37819672, 6.398255348, -18.91015244 , -24.33240509, 6.406998158, -18.95025253 , -24.28580856, 6.415841103, -18.98939133 , -24.23565865, 6.425700665, -19.02908516 , -24.18131447, 6.436367989, -19.06942749 , -24.12277222, 6.446799278, -19.11004257 , -24.05844688, 6.455954075, -19.15114594 , -23.9869194, 6.463097095, -19.19220924 , -23.91055679, 6.467456818, -19.23049736 , -23.83483315, 6.46801281, -19.26284981 , -23.76337433, 6.463946342, -19.28861809 , -23.69556808, 6.455453396, -19.30956268 , -23.62878609, 6.443813324, -19.32743454 , -23.56056786, 6.430179119, -19.34296036 , -23.48919296, 6.414530754, -19.35661507 , -23.41549683, 6.396408558, -19.36887932 , -23.34389687, 6.376275063, -19.37973404 , -23.27893066, 6.35524559, -19.38883591 , -23.22053528, 6.333563805, -19.39625168 , -23.16440392, 6.310176849, -19.40255737 , -23.10691643, 6.284222603, -19.40825844 , -23.04851913, 6.256577015, -19.41333008 , -22.99188995, 6.22934103, -19.41740608 , -22.93761635, 6.203688622, -19.42037773 , -22.8830204, 6.178759098, -19.42263603 , -22.8253727, 6.152933598, -19.42477226 , -22.76463699, 6.125651836, -19.42711258 , -22.70243263, 6.097551346, -19.42949295 , -22.64008713, 6.069544315, -19.43150902 , -22.57901192, 6.042463303, -19.43287659 , -22.52128029, 6.016967773, -19.43366432 , -22.46804047, 5.992980003, -19.43430138 , -22.41816711, 5.969403744, -19.43548775 , -22.36892319, 5.944595814, -19.43802834 , -22.31751823, 5.917093754, -19.44246292 , -22.26249886, 5.886363983, -19.44870758 , -22.20419502, 5.853018761, -19.45613289 , -22.14272881, 5.817706585, -19.46416092 , -22.07600784, 5.780004025, -19.47262383 , -22.00151443, 5.739431858, -19.4813652 , -21.92032814, 5.697444439, -19.48970985 , -21.83787155, 5.657361984, -19.49672508 , -21.75999451, 5.621940613, -19.50196266 , -21.68865204, 5.591331005, -19.50576973 , -21.6218586, 5.563521862, -19.50893402 , -21.55705452, 5.536403179, -19.51207733 , -21.49299812, 5.508998394, -19.51544189 , -21.42916298, 5.481262684, -19.51890755 , -21.36499214, 5.453477383, -19.52215767 , -21.29943466, 5.425652027, -19.52494621 , -21.23095703, 5.397296429, -19.52733803 , -21.15942001, 5.368197441, -19.52966309 , -21.08740044, 5.338967323, -19.53223991 , -21.01787376, 5.31005621, -19.5351162 , -20.95194626, 5.280951023, -19.53814125 , -20.89005089, 5.2511549, -19.54116821 , -20.83300781, 5.220972061, -19.54428864 , -20.78012276, 5.190506458, -19.54784012 , -20.72821236, 5.158891201, -19.55216599 , -20.6744194, 5.125573635, -19.55721092 , -20.61919785, 5.091805458, -19.56246376 , -20.56506538, 5.059751511, -19.56742668 , -20.51268578, 5.0301404, -19.5721283 , -20.45964813, 5.00165987, -19.5769558 , -20.40365791, 4.972912312, -19.58197403 , -20.34570122, 4.944189548, -19.58672523 , -20.28878403, 4.916641235, -19.590868 , -20.23367691, 4.889898777, -19.59475327 , -20.17685509, 4.861287117, -19.59911156 , -20.11285591, 4.827913761, -19.60434914 , -20.03867149, 4.789576054, -19.61029053 , -19.9564991, 4.749450207, -19.6164608 , -19.87307358, 4.711998463, -19.62233543 , -19.79592133, 4.680337429, -19.62750816 , -19.72899055, 4.655174255, -19.63181686 , -19.67105675, 4.635387421, -19.63539314 , -19.61774635, 4.619252205, -19.63854218 , -19.56437111, 4.605255127, -19.64156723 , -19.50739098, 4.592175484, -19.64464378 , -19.4453907, 4.578937531, -19.64778519 , -19.37924004, 4.564642429, -19.65086174 , -19.31002617, 4.548567295, -19.65371895 , -19.23742867, 4.530302525, -19.65623856 , -19.16183662, 4.51028347, -19.65826607 , -19.08597565, 4.489961624, -19.65947914 , -19.0116806, 4.470812321, -19.65938187 , -18.93736649, 4.453244209, -19.65756035 , -18.8617878, 4.436804295, -19.65408516 , -18.78808212, 4.42105484, -19.6496582 , -18.72111511, 4.405799389, -19.64513588 , -18.66230202, 4.390808105, -19.64087296 , -18.60912132, 4.375913143, -19.63661194 , -18.55830956, 4.36130476, -19.63191032 , -18.50792694, 4.347467899, -19.62658119 , -18.45727348, 4.334806919, -19.62070656 , -18.40624237, 4.323400497, -19.61439896 , -18.35496712, 4.312988758, -19.60765457 , -18.30327988, 4.302978516, -19.60042953 , -18.25001335, 4.292478561, -19.59267044 , -18.19322777, 4.28071928, -19.58421326 , -18.13212776, 4.267911911, -19.5749855 , -18.06884575, 4.25552845, -19.56532669 , -18.00724602, 4.245073795, -19.55582237 , -17.94961166, 4.236514568, -19.54668999 , -17.89511681, 4.228321552, -19.53753853 , -17.84104156, 4.21878767, -19.527668 , -17.78463745, 4.206886768, -19.51643562 , -17.72467232, 4.192232609, -19.50345612 , -17.66187286, 4.174628735, -19.48859406 , -17.59709167, 4.153433323, -19.47146416 , -17.52948952, 4.127488613, -19.45099449 , -17.45836449, 4.096588135, -19.42628288 , -17.38640785, 4.063309669, -19.39818954 , -17.3188858, 4.032492638, -19.36948967 , -17.25921059, 4.008235931, -19.34294891 , -17.20648766, 3.991628885, -19.31949043 , -17.15738487, 3.98127389, -19.29821205 , -17.1092205, 3.975052118, -19.27757263 , -17.06111717, 3.970978975, -19.25613785 , -17.01335335, 3.967153311, -19.23281097 , -16.96627617, 3.961775303, -19.20691872 , -16.91954422, 3.953550816, -19.17798424 , -16.87217522, 3.942303419, -19.14525414 , -16.82369423, 3.929370642, -19.10794258 , -16.77498627, 3.916962624, -19.06602859 , -16.7274189, 3.906502008, -19.02024269 , -16.68162918, 3.897767544, -18.97175789 , -16.63795471, 3.889970541, -18.9224472 , -16.59712601, 3.883098125, -18.8746624 , -16.55957603, 3.877660751, -18.82975388 , -16.52467346, 3.873652935, -18.7872448 , -16.49125099, 3.870343447, -18.74575806 , -16.45828819, 3.866883516, -18.70396042 , -16.42455482, 3.862744808, -18.66009331 , -16.3879528, 3.857608795, -18.61111259 , -16.3461113, 3.851231337, -18.55348206 , -16.29823875, 3.843863964, -18.48590469 , -16.24648476, 3.836931467, -18.4115696 , -16.19509125, 3.832857132, -18.33735275 , -16.14800072, 3.833589554, -18.27009392 , -16.10675049, 3.839166403, -18.21253777 , -16.06987381, 3.848011017, -18.16199493 , -16.03419876, 3.858552933, -18.11300278 , -15.99742222, 3.870038271, -18.06191444 , -15.95985222, 3.881912947, -18.0093441 , -15.92354202, 3.893369913, -17.95836639 , -15.88986301, 3.903922558, -17.91099548 , -15.85843372, 3.913900375, -17.86683083 , -15.8280611, 3.924042225, -17.82442856 , -15.79786301, 3.934792519, -17.7827282 , -15.76746273, 3.946117401, -17.74115562 , -15.73660755, 3.957868338, -17.69914627 , -15.70472336, 3.970237732, -17.65569496 , -15.67086315, 3.983720541, -17.60956383 , -15.63439846, 3.998423338, -17.56022072 , -15.59542847, 4.013587475, -17.50820923 , -15.55392742, 4.028227806, -17.45383644 , -15.50931454, 4.042182446, -17.39648056 , -15.46212387, 4.056127548, -17.33647728 , -15.41502666, 4.070785999, -17.276371 , -15.37069035, 4.08643961, -17.21855545 , -15.32954597, 4.102802753, -17.16296196 , -15.29055786, 4.119078636, -17.10799217 , -15.25272751, 4.134603024, -17.05190659 , -15.2152977, 4.14951992, -16.99282646 , -15.17804718, 4.164412498, -16.92967606 , -15.14165878, 4.179435253, -16.86324501 , -15.10668278, 4.194244862, -16.79468918 , -15.07253647, 4.208375454, -16.7240696 , -15.03866959, 4.221207619, -16.6523819 , -15.00612545, 4.231990814, -16.58340454 , -14.97677803, 4.240468979, -16.52101135 , -14.95137787, 4.247295856, -16.46549988 , -14.92895508, 4.25358963, -16.41377831 , -14.90762138, 4.260222435, -16.36201096 , -14.88551712, 4.267515182, -16.30728912 , -14.86163235, 4.275158882, -16.24845314 , -14.83628654, 4.28234911, -16.18637657 , -14.81059361, 4.288515091, -16.12247086 , -14.78551579, 4.294266701, -16.05700684 , -14.7614975, 4.30142355, -15.98942375 , -14.73850727, 4.311860561, -15.91914368 , -14.71612549, 4.326178551, -15.84572697 , -14.69412899, 4.343205452, -15.76986694 , -14.67295265, 4.360658169, -15.69402313 , -14.65294933, 4.376464367, -15.6198082 , -14.63346577, 4.389579773, -15.54496861 , -14.6133337, 4.399569511, -15.46487331 , -14.59221935, 4.405788898, -15.37722588 , -14.5711565, 4.407508373, -15.28483295 , -14.55191517, 4.404862881, -15.19437408 , -14.53598404, 4.399230003, -15.1126318 , -14.52381706, 4.392347813, -15.04269505 , -14.51470661, 4.385149479, -14.98277378 , -14.50739574, 4.37749958, -14.92822456 , -14.50084209, 4.368641376, -14.87395477 , -14.4946003, 4.357669353, -14.81521988 , -14.48878193, 4.344083309, -14.74889088 , -14.48384666, 4.328527927, -14.67620373 , -14.48033237, 4.312838554, -14.60302925 , -14.47866917, 4.298906326, -14.53503036 , -14.47927284, 4.287492752, -14.47226238 , -14.48267174, 4.278258324, -14.40919876 , -14.48928452, 4.270549297, -14.34020519 , -14.49887943, 4.263890743, -14.2650013 , -14.51058578, 4.257957458, -14.18841934 , -14.5236187, 4.25235796, -14.11493587 , -14.53770638, 4.246576786, -14.04509354 , -14.55283833, 4.240103722, -13.97716618 , -14.5691185, 4.232481956, -13.9093132 , -14.58685684, 4.223262787, -13.83969307 , -14.60620689, 4.212213993, -13.76746273 , -14.62692642, 4.199557304, -13.69391346 , -14.64899445, 4.185709953, -13.62044716 , -14.67284679, 4.170928001, -13.54664421 , -14.69825935, 4.155588627, -13.47266388 , -14.72361946, 4.140625954, -13.40179157 , -14.74713993, 4.127170563, -13.3379612 , -14.76858902, 4.11566782, -13.28175735 , -14.78952026, 4.105561733, -13.23030853 , -14.81231499, 4.095785618, -13.17955971 , -14.83916187, 4.085496426, -13.1253767 , -14.87085056, 4.074482441, -13.06476593 , -14.90569115, 4.063045502, -12.99861908 , -14.9401989, 4.051544189, -12.93239689 , -14.97170258, 4.04007864, -12.87204933 , -15.00019836, 4.028612614, -12.81938934 , -15.02770519, 4.017307758, -12.77183533 , -15.05684757, 4.006551266, -12.72499275 , -15.09044456, 3.996534348, -12.67432022 , -15.13115978, 3.986867666, -12.61612415 , -15.1800127, 3.976788044, -12.54946518 , -15.23495007, 3.965864658, -12.47761154 , -15.29127693, 3.954473734, -12.40692425 , -15.34403038, 3.943463087, -12.34347343 , -15.39071465, 3.933207512, -12.28964233 , -15.43251324, 3.922988176, -12.24299526 , -15.47286797, 3.911462545, -12.19851589 , -15.51437092, 3.897923231, -12.15265369 , -15.55679035, 3.883128643, -12.10574913 , -15.59822464, 3.868775606, -12.06059837 , -15.63773537, 3.856202364, -12.01919365 , -15.67625999, 3.845720291, -11.98139477 , -15.71528435, 3.836926699, -11.94602871 , -15.75573063, 3.829139471, -11.91184521 , -15.79845047, 3.82139802, -11.87704372 , -15.84516048, 3.812459707, -11.8389082 , -15.89757061, 3.801451445, -11.79533482 , -15.95483112, 3.788851023, -11.74743176 , -16.01280975, 3.776546478, -11.69966316 , -16.0674057, 3.766532183, -11.65631294 , -16.11834145, 3.75947094, -11.61791039 , -16.16877937, 3.754393816, -11.58144283 , -16.22147942, 3.749492407, -11.54357719 , -16.27662468, 3.74332428, -11.50301266 , -16.33386421, 3.735738039, -11.45986843 , -16.39469337, 3.72790885, -11.41414642 , -16.46068764, 3.721509218, -11.36627102 , -16.52976227, 3.717746496, -11.31875706 , -16.5964241, 3.716964722, -11.2756052 , -16.65625, 3.718885899, -11.23948669 , -16.70914078, 3.723101139, -11.21015263 , -16.75832558, 3.729494095, -11.18561077 , -16.80772591, 3.738574028, -11.16405201 , -16.86034775, 3.751516104, -11.14460468 , -16.91718292, 3.769581556, -11.12711334 , -16.97677612, 3.793673754, -11.11156082 , -17.03681755, 3.824858427, -11.0973177 , -17.09607124, 3.864223719, -11.08311749 , -17.15358543, 3.910611391, -11.06827068 , -17.20722008, 3.959331512, -11.05356407 , -17.25491905, 4.005028248, -11.04042339 , -17.29706764, 4.045557976, -11.02948952 , -17.33608246, 4.082177162, -11.02040386 , -17.37428665, 4.117019176, -11.01250267 , -17.4130497, 4.151612282, -11.00523281 , -17.45383072, 4.187290192, -10.99805927 , -17.49902344, 4.225759029, -10.99038982 , -17.55062294, 4.268381596, -10.98178101 , -17.6074276, 4.314790726, -10.97227097 , -17.66468811, 4.363136768, -10.96242237 , -17.71767044, 4.412181377, -10.95295429 , -17.76491356, 4.461933136, -10.94434834 , -17.80747795, 4.511723518, -10.93675995 , -17.84678841, 4.559661388, -10.93006992 , -17.8845253, 4.605099678, -10.92394543 , -17.92317009, 4.649895191, -10.91804981 , -17.96463013, 4.695879936, -10.91227818 , -18.00823975, 4.742178917, -10.9067955 , -18.05126381, 4.786270618, -10.90181351 , -18.09159088, 4.826987267, -10.89739609 , -18.12953186, 4.865551949, -10.89346886 , -18.16753387, 4.904621124, -10.8899374 , -18.2091713, 4.947566032, -10.88672829 , -18.25784874, 4.997673988, -10.88382053 , -18.31505203, 5.056034565, -10.8812933 , -18.37939072, 5.11986208, -10.8793087 , -18.44736862, 5.183648109, -10.87794685 , -18.51506042, 5.242264271, -10.87710953 , -18.57983971, 5.293399811, -10.87660885 , -18.64136314, 5.337953091, -10.87633514 , -18.70059967, 5.378304958, -10.87624168 , -18.7576828, 5.415975571, -10.87627697 , -18.81196976, 5.451142788, -10.87640762 , -18.8646183, 5.484309673, -10.87669277 , -18.91964149, 5.517371655, -10.87727928 , -18.98081017, 5.552267075, -10.87828541 , -19.04739952, 5.588772774, -10.87963009 , -19.11395836, 5.624334335, -10.88102341 , -19.17495155, 5.656366348, -10.88216782 , -19.2291069, 5.684341908, -10.88296986 , -19.27885628, 5.709491253, -10.88354874 , -19.32704353, 5.733180046, -10.88404655 , -19.37508392, 5.756049633, -10.88454819 , -19.42336464, 5.778250217, -10.88505554 , -19.47224998, 5.799944878, -10.88550186 , -19.52292252, 5.821667194, -10.88574886 , -19.57725334, 5.844211102, -10.88562965 , -19.63602638, 5.867845058, -10.88503933 , -19.69721031, 5.891621113, -10.8839922 , -19.75746536, 5.914083004, -10.88253117 , -19.81619644, 5.935017586, -10.88048363 , -19.87729263, 5.956165314, -10.87731552 , -19.94593239, 5.979783535, -10.87230682 , -20.02336693, 6.006322861, -10.86512661 , -20.10470009, 6.033525467, -10.85629272 , -20.18214035, 6.057956219, -10.84694386 , -20.25073051, 6.077441692, -10.83804512 , -20.31096077, 6.09199667, -10.82986546 , -20.36652756, 6.102805614, -10.82215691 , -20.42073822, 6.110922337, -10.81467247 , -20.47545242, 6.116971493, -10.80744362 , -20.53259087, 6.12149334, -10.80058765 , -20.59532547, 6.125066757, -10.79394341 , -20.6662693, 6.1280756, -10.78702259 , -20.7436409, 6.130496025, -10.77950573 , -20.8207531, 6.132023335, -10.77170467 , -20.89108086, 6.132434845, -10.76433277 , -20.95321846, 6.131790161, -10.75788307 , -21.01049614, 6.130325317, -10.75234604 , -21.0678215, 6.12825346, -10.7472868 , -21.1300106, 6.125750065, -10.74192715 , -21.20034409, 6.123128414, -10.73524761 , -21.27798462, 6.120960712, -10.7263813 , -21.35805321, 6.11987114, -10.71492863 , -21.43630028, 6.120126247, -10.70070934 , -21.51230812, 6.121479511, -10.68349934 , -21.58692741, 6.123402119, -10.6634016 , -21.65920639, 6.125385761, -10.64117718 , -21.72800064, 6.127029896, -10.61775017 , -21.79423141, 6.127981186, -10.59372425 , -21.85964203, 6.12787962, -10.56963158 , -21.92503929, 6.126435757, -10.54606724 , -21.99023819, 6.123612404, -10.52339745 , -22.05407524, 6.119743824, -10.50181389 , -22.11491776, 6.115429401, -10.48140907 , -22.173069, 6.111232281, -10.46155739 , -22.23235893, 6.107321739, -10.44035721 , -22.29775429, 6.103120327, -10.41552639 , -22.37064743, 6.09711647, -10.38640022 , -22.44680977, 6.08729744, -10.35506153 , -22.52002525, 6.071930885, -10.32488918 , -22.58826637, 6.049848557, -10.29753399 , -22.65542221, 6.02046299, -10.27176762 , -22.72638702, 5.984527588, -10.24548435 , -22.80147171, 5.944949627, -10.21817589 , -22.87592506, 5.906002045, -10.19118881 , -22.94393539, 5.871130943, -10.16627502 , -23.00262451, 5.841243267, -10.14433193 , -23.0532074, 5.814776421, -10.12523651 , -23.09912682, 5.789217949, -10.10848045 , -23.14341736, 5.762725353, -10.09375954 , -23.18738937, 5.734771729, -10.08100986 , -23.23103142, 5.705765247, -10.07008171 , -23.27399063, 5.676283836, -10.06062889 , -23.31621933, 5.646605492, -10.05226421 , -23.3580265, 5.61673975, -10.04474354 , -23.39984322, 5.586647511, -10.03804493 , -23.4419899, 5.556289196, -10.03233433 , -23.48451614, 5.52557373, -10.02787209 , -23.5271492, 5.494404316, -10.02492332 , -23.56949806, 5.462747574, -10.02361202 , -23.61176872, 5.430483818, -10.02379227 , -23.6557045, 5.397096157, -10.02495098 , -23.70482826, 5.36168623, -10.02624226 , -23.76288605, 5.323861599, -10.02674198 , -23.83061981, 5.285036087, -10.02590752 , -23.90371704, 5.248514652, -10.02401829 , -23.97494698, 5.217510223, -10.02207184 , -24.03938484, 5.192712307, -10.02123547 , -24.09813881, 5.17188406, -10.02241039 , -24.15761185, 5.151991367, -10.02614689 , -24.22525024, 5.131829739, -10.03261566 , -24.30462646, 5.112783432, -10.04155064 , -24.39276123, 5.09722662, -10.05243111 , -24.48126984, 5.086419582, -10.06463528 , -24.56076813, 5.07988596, -10.07738495 , -24.62629128, 5.076200962, -10.0901432 , -24.68029022, 5.073834419, -10.10354042 , -24.72990227, 5.071549416, -10.11932945 , -24.78047562, 5.068654537, -10.13873482 , -24.83247185, 5.065139771, -10.16140366 , -24.88511658, 5.061539173, -10.1866312 , -24.94081116, 5.058621407, -10.21517658 , -25.00419807, 5.057013512, -10.24916363 , -25.07761192, 5.056820869, -10.29030514 , -25.1587429, 5.057532787, -10.33869267 , -25.24257469, 5.058481216, -10.39286613 , -25.32431984, 5.059472084, -10.44994736 , -25.40024948, 5.060865402, -10.50561714 , -25.46749115, 5.063008785, -10.55548191 , -25.52479553, 5.065704823, -10.59776783 , -25.57352257, 5.068264961, -10.63441277 , -25.6169796, 5.069863319, -10.66918373 , -25.65888405, 5.069843769, -10.70534134 , -25.7022419, 5.068031788, -10.74491882 , -25.74842262, 5.065015793, -10.78853226 , -25.79674911, 5.062054157, -10.83526611 , -25.84562683, 5.060483456, -10.8836689 , -25.89394188, 5.061103344, -10.93306446 , -25.94108582, 5.064018726, -10.98351002 , -25.9865303, 5.068972111, -11.03523445 , -26.03005791, 5.075785637, -11.0884304 , -26.07181168, 5.084659576, -11.14293766 , -26.11202431, 5.096171379, -11.19819069 , -26.15094566, 5.110777855, -11.25377274 , -26.18874741, 5.128210068, -11.3099432 , -26.22570229, 5.147665501, -11.36835766 , -26.26243973, 5.168492794, -11.43215656 , -26.2990036, 5.190074921, -11.50312614 , -26.33371544, 5.21119833, -11.57812595 , -26.36404419, 5.230340481, -11.65028095 , -26.38890076, 5.24685812, -11.71475601 , -26.40952301, 5.26179409, -11.77285576 , -26.42822456, 5.277469158, -11.83051205 , -26.44636726, 5.295789719, -11.89307404 , -26.46325493, 5.316354752, -11.9609375 , -26.47689056, 5.336521626, -12.02972507 , -26.48586082, 5.353922844, -12.09486008 , -26.49048042, 5.368707657, -12.15583515 , -26.49223137, 5.383069515, -12.21588707 , -26.49257469, 5.399010181, -12.27818775 , -26.49238014, 5.417084694, -12.34352589 , -26.49213219, 5.43708992, -12.41204643 , -26.49207306, 5.458947659, -12.48554897 , -26.49193573, 5.482152462, -12.56596375 , -26.49090767, 5.504880428, -12.65193462 , -26.48819351, 5.524564266, -12.73865795 , -26.48363304, 5.539403915, -12.82143402 , -26.47756767, 5.549202919, -12.89871502 , -26.47049332, 5.555068493, -12.9713707 , -26.46298981, 5.558540821, -13.03977871 , -26.45564842, 5.56086731, -13.1030159 , -26.44874573, 5.562800407, -13.16091061 , -26.44211578, 5.564709663, -13.21514893 , -26.43539238, 5.566638947, -13.26790714 , -26.42832947, 5.568306446, -13.32038784 , -26.42086792, 5.569235802, -13.37287712 , -26.41296577, 5.569024086, -13.42564106 , -26.40438461, 5.56751585, -13.47982693 , -26.39471436, 5.564800739, -13.53747749 , -26.38374138, 5.561185837, -13.60001564 , -26.37170029, 5.557186604, -13.66704178 , -26.35897255, 5.553331375, -13.73766613 , -26.34570503, 5.549834728, -13.81194687 , -26.33204269, 5.546560287, -13.88918114 , -26.31847763, 5.543333054, -13.96626472 , -26.30554771, 5.540242672, -14.04004097 , -26.29338837, 5.537695885, -14.11008835 , -26.28180122, 5.536186695, -14.17793274 , -26.27040291, 5.535927773, -14.24512863 , -26.25872993, 5.536726952, -14.3126049 , -26.24653435, 5.538403511, -14.38050175 , -26.23398781, 5.541325092, -14.44851208 , -26.2214222, 5.546286583, -14.51657486 , -26.20886421, 5.553773403, -14.58502579 , -26.19573975, 5.563585758, -14.65483093 , -26.18116188, 5.575065136, -14.72749901 , -26.16485977, 5.587296009, -14.80284786 , -26.14772606, 5.599271774, -14.87758541 , -26.13095474, 5.610389709, -14.9484148 , -26.11498642, 5.620732784, -15.01553345 , -26.09952545, 5.630551815, -15.08152771 , -26.08419418, 5.639690399, -15.14826775 , -26.06892586, 5.647741795, -15.21561718 , -26.05404091, 5.654482841, -15.28171062 , -26.03993988, 5.660044193, -15.34452534 , -26.02648163, 5.664829254, -15.40443325 , -26.01289749, 5.669284344, -15.46454906 , -25.99861526, 5.67359972, -15.52733898 , -25.98403358, 5.677670479, -15.59149551 , -25.97010612, 5.681384087, -15.65333843 , -25.9572773, 5.68487978, -15.71076298 , -25.94508934, 5.688456059, -15.76463795 , -25.93281937, 5.692405224, -15.81700802 , -25.92008018, 5.697105885, -15.86949158 , -25.90673828, 5.703204632, -15.92361927 , -25.8925972, 5.711443424, -15.98135567 , -25.87738609, 5.722197533, -16.04403877 , -25.86104965, 5.735246181, -16.11118698 , -25.84365845, 5.750099182, -16.18161201 , -25.82504654, 5.766417503, -16.25549889 , -25.80500793, 5.783888817, -16.33336258 , -25.78399086, 5.801863194, -16.41298103 , -25.76289558, 5.81948185, -16.49013138 , -25.74194527, 5.836131573, -16.56344604 , -25.72027779, 5.851431847, -16.63583565 , -25.69726753, 5.86494112, -16.70932007 , -25.67367935, 5.876407623, -16.78087997 , -25.65096474, 5.886358261, -16.84558678 , -25.62971115, 5.895959377, -16.90203857 , -25.60926247, 5.90618515, -16.95311928 , -25.58839226, 5.917460918, -17.00321007 , -25.56594658, 5.929995537, -17.05589867 , -25.54156494, 5.943826675, -17.11241341 , -25.51618195, 5.958327293, -17.17075729 , -25.4913044, 5.972254753, -17.22759056 , -25.46738625, 5.984718323, -17.28203201 , -25.44336891, 5.99586153, -17.33662605 , -25.41819, 6.006362438, -17.39380836 , -25.39226723, 6.016539097, -17.4525013 , -25.36709213, 6.026284695, -17.50920486 };
    auto contour = MR::Contour3f( std::size( data ) / 3 );
    assert( contour.size() * 3 == std::size( data ) );
    for ( auto i = 0; i < contour.size(); ++i )
        contour[i] = { data[3 * i + 0], data[3 * i + 1], data[3 * i + 2] };
    auto polyline = MR::Polyline3( { contour } );

    MR::dividePolylineWithPlane( polyline, plane );
}
